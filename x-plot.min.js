var t=class extends HTMLElement{static get observedAttributes(){return["width","height","background","color","zoom","pixel-ratio","line-width"]}state={pixelRatio:window.devicePixelRatio,data:[],zoom:1,lineWidth:1,background:"#235",color:"#4f4"};canvas=document.createElement("canvas");context=this.canvas.getContext("2d",{alpha:!1,desynchronized:!0});constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(this.canvas),this.addEventListener("wheel",(t=>{const e=+this.state.zoom-6e-4*Math.min(50,this.state.zoom**1.15)*t.deltaY;this.setAttribute("zoom",""+e)}),{passive:!0})}set data(t){this.state.data=t,this.draw()}draw(){this.context.fillStyle=this.state.background,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),(({context:t,width:e=t.canvas.width,height:i=t.canvas.height,pixelRatio:a=window.devicePixelRatio,lineWidth:s=1,zoom:o=1,color:h="#fff",data:n=[],fn:c=(t=>n[t]??n[n.length-1])})=>{t.save(),t.lineWidth=s*a,t.lineJoin="round",t.strokeStyle=h;const d=s*a+a,l=.5*d,r=.5*e+.75*l,v=i-d,x=Math.max(1e-5,2*o/Math.max(1,n.length-1));if(!isFinite(x))return;let w=0,g=0,p=0,m=-1*o;const u=t=>{g=(m+1)*r-l,p=(1-.5*(t+1))*v+l};for(u(c(0)),t.beginPath(),t.moveTo(g,p),m=-1*o;m<=1;m+=x)u(c(w++)),t.lineTo(g,p);u(c(w++)),t.lineTo(g,p),t.lineTo(g,p),t.stroke(),t.restore()})({context:this.context,...this.state})}attributeChangedCallback(t,e,i){switch(t){case"width":this.canvas.width=+i*this.state.pixelRatio,this.canvas.style.width=i+"px";break;case"height":this.canvas.height=+i*this.state.pixelRatio,this.canvas.style.height=i+"px";break;case"zoom":if(!isFinite(+i))return;i<1&&(i=1),i>1e5&&(i=1e5);default:const e=t.replace(/-[a-z]/g,(t=>t[1].toUpperCase()));this.state[e]=i}this.draw()}},e=t;export{t as Plot,e as default};